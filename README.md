# graphics engine

[![Build Status][travis_image]][travis_status]

A proof-of-concept graphics engine, implemented in `C`.

### compilation/installation
 * `make all` : compile the engine.
 * `make test` : run unit tests
 * `make clean` : delete compiled binaries
 * `make install` : install all of the engine's dependencies, which are:
	* [SDL][SDL]
	* [ncurses][ncurses]
	* [Xlib][Xlib]

### features
This project implements a rudimentary graphics engine from the ground up, using
the `SDL` graphics library only for per-pixel access. The following algorithms
and features are included:

 * Bresenham line rasterization
 * translations, scaling, rotations
 * Bezier/Hermite curves
 * shape creation: spheres, tori, rectangular prisms
 * backface culling
 * scanline fills
 * z-buffering
 * a custom scripting language, `MDL`, with a `Lex`/`Yacc`parser and
    interpreter
 * Goraud shading
 * a unit-testing suite

### use
##### basics
From the project root, run `make install`, and `make all`. When the engine finishes compilation, run `make test` to
execute the engine's full suite of unit-tests: make sure they all succeeded! If one doesn't (and you're checked out to
`master`), you should try another computer. Then, run `make run` to see a sample animation.

##### more
Beyond the compiled animation displayed by `make run`, check out the following:

 * **animations**: the engine comes pre-packaged with animation `gif`s inside `animations/`.
 * **scripting**: the engine has its own scripting language, `MDL`, which allows you to toy with its numerous features.
   Read [scripting](#scripting) for more details.

### scripting
The engine's scripts are written in a language called `MDL`, which consists of commands written on individual lines. A
simple script might look like:

	// A sample script that creates a sphere, then rotates, scales, and translates it.

	frames 40
	rotate x 45
	move 10 30 40
	scale 2 2 2
	sphere 0 0 0 50
	display

#### commands

###### stack/other commands
command | description
--- | ---
`pop` | pops the top matrix off the transformation stack.
`push` | pushes a copy of the top matrix of the transformation stack onto the stack.
`display` | displays the image generated by the script thus far.
`save filename` | saves the image to a `bmp` file named `<filename>`.
`//` | a comment

###### transformations
command | description
--- | ---
`move x y z` | adds a translation of (`x`, `y`, `z`) units.
<code>rotate x&#124;y&#124;z degrees</code> | adds a rotation of `degrees` degrees through the `x`, `y`, or `z` axes.
`scale x y z` | adds a scale of (`x`, `y`, `z`) units.

###### image creation
command | description
--- | ---
`box x y z h w d` | adds a rectangular prism with top-left-front corner at (`x`, `y`, `z`), and height `h`, width `w`, and depth `d`.
`torus x y z r0 r1` | adds a torus with centroid (`x`, `y`, `z`), minor radius `r0` and major radius `r1`.
`sphere x y z r` | adds a sphere centered on (`x`, `y`, `z`)

#### mechanics
These be the mechanics.

[SDL]: http://www.libsdl.org/
[ncurses]: http://www.gnu.org/software/ncurses/
[Xlib]:http://en.wikipedia.org/wiki/Xlib
[travis_status]: (https://travis-ci.org/sevko/graphics-engine)
[travis_image]: https://travis-ci.org/sevko/large-pixel-collider.svg
